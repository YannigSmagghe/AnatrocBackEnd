function getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(showPosition):alert("Votre navigateur ne supporte pas la geolocalisation")}function showPosition(e){console.log(e.coords.longitude+"longitude"),console.log(e.coords.latitude+"latitude")}function displayWeather(e){$(".temps").hide(),$("#"+e.data.weather).show(),$("#temperature").text(e.data.temperature+"°"),$("#ville").text(e.data.city)}function displayTransport(e){$("#distance_result").text(e.data.distance),$("#start_address_result").text(e.data.start_address_name),$("#end_address_result").text(e.data.end_address_name),$("#duration_result").text(e.data.duration)}function displayFromResponse(e){for(var t in e)"weather"==e[t].type?displayWeather(e[t]):"transport.google_direction.driving"==e[t].type&&(displayTransport(e[t]),lat=e[t].data.start_location.lat,lng=e[t].data.start_location.lng)}function showInfo(){return!0}function showButtons(){return!0}function updateCountry(){for(var e=select_dialect.options.length-1;e>=0;e--)select_dialect.remove(e);for(var t=langs[select_language.selectedIndex],e=1;e<t.length;e++)select_dialect.options.add(new Option(t[e][1],t[e][0]));select_dialect.style.visibility=1==t[1].length?"hidden":"visible"}function linebreak(e){return e.replace(two_line,"<p></p>").replace(one_line,"<br>")}function capitalize(e){return e.replace(first_char,function(e){return e.toUpperCase()})}function startButton(e){return recognizing?void recognition.stop():(final_transcript="",recognition.lang=select_dialect.value,recognition.start(),ignore_onend=!1,final_span.innerHTML="",interim_span.innerHTML="",start_img.src="mic-slash.gif",showInfo("info_allow"),showButtons("none"),void(start_timestamp=e.timeStamp))}var livePatern={canvas:null,context:null,cols:0,rows:0,colors:[252,251,249,248,241,240],triangleColors:[],destColors:[],init:function(){this.canvas=document.getElementById("canvas"),this.context=this.canvas.getContext("2d"),this.cols=Math.floor(document.body.clientWidth/24),this.rows=Math.floor(document.body.clientHeight/24)+1,this.canvas.width=document.body.clientWidth,this.canvas.height=document.body.clientHeight,this.drawBackground(),this.animate()},drawTriangle:function(e,t,n,o){o=void 0!=o&&o,this.context.beginPath(),this.context.moveTo(e,t),this.context.lineTo(o?e-22:e+22,t+11),this.context.lineTo(e,t+22),this.context.fillStyle="rgb("+n+","+n+","+n+")",this.context.fill(),this.context.closePath()},getColor:function(){return this.colors[Math.floor(6*Math.random())]},drawBackground:function(){for(var e,t=null,n=this.cols,o=0;n--;)for(t=n%2,e=this.rows;e--;)o=Math.round(24*(e-.5)),this.drawTriangle(24*n+2,1==t?o:24*e,this.getColor()),this.drawTriangle(24*n,1==t?o:24*e,this.getColor(),!0)},animate:function(){var e=this,t=Math.floor(Math.random()*this.cols),n=Math.floor(Math.random()*this.rows),o=t%2;1==o?e.drawTriangle(24*t,Math.round(24*(n-.5)),this.getColor(),!0):e.drawTriangle(24*t+2,24*n,this.getColor()),setTimeout(function(){e.animate.call(e)},10)}};!function(){livePatern.init()}(),console.log("cocuou"),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){console.log("position",e)}):console.log("geolocalisation disabled");var map;window.initMap=function(){var e={lat:lat,lng:lng};map=new google.maps.Map(document.getElementById("map-container"),{zoom:10,center:e});var t=(new google.maps.Marker({position:e,map:map,title:"Vous etes ici!"}),[{featureType:"administrative",elementType:"geometry",stylers:[{color:"#a7a7a7"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#737373"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#efefef"},{lightness:"20"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"off"},{color:"#dadada"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#696969"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#b3b3b3"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#d6d6d6"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:1.8}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#d7d7d7"}]},{featureType:"transit",elementType:"all",stylers:[{color:"#808080"},{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#bfcdd5"}]},{featureType:"water",elementType:"labels.text",stylers:[{saturation:"-47"}]}]);map.setOptions({styles:t})},$(document).ready(function(){function e(){$(".input-container").fadeOut(),$(".result-container").fadeIn(),google.maps.event.trigger(map,"resize"),getLocation()}var t=null;$("#search-input").on("keyup",function(){return console.log(t),t&&clearTimeout(t),t=setTimeout(e,3e3)}),$("#menu_connexion").click(function(){$(".input-container").hide(),$(".connexion-container").show()}),$("#menu_accueil").click(function(){$(".connexion-container").hide(),$(".meteo-container").hide(),$(".input-container").show()}),$(".tlt").textillate({loop:!1,autoStart:!0,"in":{effect:"flipInX",delayScale:3,delay:50,sync:!1,sequence:!0,reverse:!1},type:"char"}),window.setInterval(function(){var e="#interim_span";$(e).text().length>0&&$("#search-input").hide()},1e3),window.setInterval(function(){var t="#final_span";$(t).text().length>0&&e()},100)}),$.ajax({url:"http://localhost:8080",type:"GET",dataType:"JSON",success:function(e){console.log(e+"succes")},error:function(e){console.log(e+"erreur")}}),$.getJSON("result.json",function(e){displayFromResponse(e.data),displayTransport(e.data),recupLocation(e.data),$(".result_type").text(e.data[0].type)}),$("#div_language").hide(),$(document).ready(function(){$("#start_button").trigger("click")});for(var langs=[["Français",["fr-FR"]]],i=0;i<langs.length;i++)select_language.options[i]=new Option(langs[i][0],i);select_language.selectedIndex=0,updateCountry(),select_dialect.selectedIndex=6;var start_img="",create_email=!1,final_transcript="",recognizing=!1,ignore_onend,start_timestamp;if("webkitSpeechRecognition"in window){start_button.style.display="inline-block";var recognition=new webkitSpeechRecognition;recognition.continuous=!0,recognition.interimResults=!0,recognition.onstart=function(){recognizing=!0,showInfo("info_speak_now"),start_img.src=""},recognition.onerror=function(e){"no-speech"==e.error&&(start_img.src="",showInfo("info_no_speech"),ignore_onend=!0),"audio-capture"==e.error&&(start_img.src="",showInfo("info_no_microphone"),ignore_onend=!0),"not-allowed"==e.error&&(showInfo(e.timeStamp-start_timestamp<100?"info_blocked":"info_denied"),ignore_onend=!0)},recognition.onend=function(){if(recognizing=!1,!ignore_onend){if(start_img.src="",!final_transcript)return void showInfo("info_start");if(showInfo(""),window.getSelection){window.getSelection().removeAllRanges();var e=document.createRange();e.selectNode(document.getElementById("final_span")),window.getSelection().addRange(e)}}},recognition.onresult=function(e){function t(){var t=e.results.length;return console.log(e.results.length),t}for(var n="",o=e.resultIndex;o<e.results.length;++o)e.results[o].isFinal?final_transcript+=e.results[o][0].transcript:n+=e.results[o][0].transcript;final_transcript=capitalize(final_transcript),final_span.innerHTML=linebreak(final_transcript),interim_span.innerHTML=linebreak(n),(final_transcript||n)&&showButtons("inline-block"),console.log(t())}}else upgrade();var two_line=/\n\n/g,one_line=/\n/g,first_char=/\S/;
//# sourceMappingURL=maps/app.min.js.map
