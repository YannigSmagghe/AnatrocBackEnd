{"version":3,"sources":["geolocalisation.js","traitementjson.js","voice-activation.js","backgroundJs.js","main.js"],"names":["getLocation","navigator","geolocation","getCurrentPosition","showPosition","alert","position","console","log","coords","longitude","latitude","displayWeather","response","$","hide","data","weather","show","text","temperature","city","displayTransport","distance","start_address_name","end_address_name","duration","displayFromResponse","i","type","lat","start_location","lng","showInfo","showButtons","updateCountry","select_dialect","options","length","remove","list","langs","select_language","selectedIndex","add","Option","style","visibility","linebreak","s","replace","two_line","one_line","capitalize","first_char","m","toUpperCase","startButton","event","recognizing","recognition","stop","final_transcript","lang","value","start","ignore_onend","final_span","innerHTML","interim_span","start_img","src","start_timestamp","timeStamp","livePatern","canvas","context","cols","rows","colors","triangleColors","destColors","init","this","document","getElementById","getContext","Math","floor","body","clientWidth","clientHeight","width","height","drawBackground","animate","drawTriangle","x","y","color","inverted","undefined","beginPath","moveTo","lineTo","fillStyle","fill","closePath","getColor","random","eq","destY","round","me","setTimeout","call","map","window","initMap","myLatLng","google","maps","Map","zoom","center","styles","Marker","title","featureType","elementType","stylers","lightness","weight","saturation","setOptions","ready","resultPage","fadeOut","fadeIn","trigger","timer","on","clearTimeout","click","textillate","loop","autoStart","in","effect","delayScale","delay","sync","sequence","reverse","setInterval","voiceSpan","ajax","url","dataType","success","error","getJSON","recupLocation","create_email","start_button","display","webkitSpeechRecognition","continuous","interimResults","onstart","onerror","onend","getSelection","removeAllRanges","range","createRange","selectNode","addRange","onresult","getTimer","results","interim_transcript","resultIndex","isFinal","transcript","upgrade"],"mappings":"AAEA,QAAAA,eACAC,UAAAC,YAEAD,UAAAC,YAAAC,mBAAAC,cAEAC,MAAA,uDAIA,QAAAD,cAAAE,GAGAC,QAAAC,IAAAF,EAAAG,OAAAC,UAAA,aACAH,QAAAC,IAAAF,EAAAG,OAAAE,SAAA,YCKA,QAAAC,gBAAAC,GAEAC,EAAA,UAAAC,OACAD,EAAA,IAAAD,EAAAG,KAAAC,SAAAC,OAGAJ,EAAA,gBAAAK,KAAAN,EAAAG,KAAAI,YAAA,KACAN,EAAA,UAAAK,KAAAN,EAAAG,KAAAK,MAKA,QAAAC,kBAAAT,GAEAC,EAAA,oBAAAK,KAAAN,EAAAG,KAAAO,UACAT,EAAA,yBAAAK,KAAAN,EAAAG,KAAAQ,oBACAV,EAAA,uBAAAK,KAAAN,EAAAG,KAAAS,kBACAX,EAAA,oBAAAK,KAAAN,EAAAG,KAAAU,UAEA,QAAAC,qBAAAd,GAEA,IAAA,GAAAe,KAAAf,GACA,WAAAA,EAAAe,GAAAC,KACAjB,eAAAC,EAAAe,IAEA,sCAAAf,EAAAe,GAAAC,OACAP,iBAAAT,EAAAe,IACAE,IAAAjB,EAAAe,GAAAZ,KAAAe,eAAAD,IACAE,IAAAnB,EAAAe,GAAAZ,KAAAe,eAAAC,KCnCA,QAAAC,YACA,OAAA,EAGA,QAAAC,eACA,OAAA,EAGA,QAAAC,iBACA,IAAA,GAAAP,GAAAQ,eAAAC,QAAAC,OAAA,EAAAV,GAAA,EAAAA,IACAQ,eAAAG,OAAAX,EAGA,KAAA,GADAY,GAAAC,MAAAC,gBAAAC,eACAf,EAAA,EAAAA,EAAAY,EAAAF,OAAAV,IACAQ,eAAAC,QAAAO,IAAA,GAAAC,QAAAL,EAAAZ,GAAA,GAAAY,EAAAZ,GAAA,IAEAQ,gBAAAU,MAAAC,WAAA,GAAAP,EAAA,GAAAF,OAAA,SAAA,UAoFA,QAAAU,WAAAC,GACA,MAAAA,GAAAC,QAAAC,SAAA,WAAAD,QAAAE,SAAA,QAGA,QAAAC,YAAAJ,GACA,MAAAA,GAAAC,QAAAI,WAAA,SAAAC,GACA,MAAAA,GAAAC,gBAGA,QAAAC,aAAAC,GACA,MAAAC,iBACAC,aAAAC,QAGAC,iBAAA,GACAF,YAAAG,KAAA3B,eAAA4B,MACAJ,YAAAK,QACAC,cAAA,EACAC,WAAAC,UAAA,GACAC,aAAAD,UAAA,GACAE,UAAAC,IAAA,gBACAtC,SAAA,cACAC,YAAA,aACAsC,gBAAAd,EAAAe,YCxIA,GAAAC,aACAC,OAAA,KACAC,QAAA,KACAC,KAAA,EACAC,KAAA,EACAC,QAAA,IAAA,IAAA,IAAA,IAAA,IAAA,KACAC,kBACAC,cAEAC,KAAA,WACAC,KAAAR,OAAAS,SAAAC,eAAA,UACAF,KAAAP,QAAAO,KAAAR,OAAAW,WAAA,MACAH,KAAAN,KAAAU,KAAAC,MAAAJ,SAAAK,KAAAC,YAAA,IACAP,KAAAL,KAAAS,KAAAC,MAAAJ,SAAAK,KAAAE,aAAA,IAAA,EAEAR,KAAAR,OAAAiB,MAAAR,SAAAK,KAAAC,YACAP,KAAAR,OAAAkB,OAAAT,SAAAK,KAAAE,aAEAR,KAAAW,iBACAX,KAAAY,WAGAC,aAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACAA,EAAAC,QAAAD,GAAAA,EAEAjB,KAAAP,QAAA0B,YACAnB,KAAAP,QAAA2B,OAAAN,EAAAC,GACAf,KAAAP,QAAA4B,OAAAJ,EAAAH,EAAA,GAAAA,EAAA,GAAAC,EAAA,IACAf,KAAAP,QAAA4B,OAAAP,EAAAC,EAAA,IACAf,KAAAP,QAAA6B,UAAA,OAAAN,EAAA,IAAAA,EAAA,IAAAA,EAAA,IACAhB,KAAAP,QAAA8B,OACAvB,KAAAP,QAAA+B,aAGAC,SAAA,WACA,MAAAzB,MAAAJ,OAAAQ,KAAAC,MAAA,EAAAD,KAAAsB,YAGAf,eAAA,WAMA,IALA,GAGAI,GAHAY,EAAA,KACAb,EAAAd,KAAAN,KACAkC,EAAA,EAGAd,KAIA,IAHAa,EAAAb,EAAA,EACAC,EAAAf,KAAAL,KAEAoB,KACAa,EAAAxB,KAAAyB,MAAA,IAAAd,EAAA,KAEAf,KAAAa,aAAA,GAAAC,EAAA,EAAA,GAAAa,EAAAC,EAAA,GAAAb,EAAAf,KAAAyB,YACAzB,KAAAa,aAAA,GAAAC,EAAA,GAAAa,EAAAC,EAAA,GAAAb,EAAAf,KAAAyB,YAAA,IAKAb,QAAA,WACA,GAAAkB,GAAA9B,KAEAc,EAAAV,KAAAC,MAAAD,KAAAsB,SAAA1B,KAAAN,MACAqB,EAAAX,KAAAC,MAAAD,KAAAsB,SAAA1B,KAAAL,MACAgC,EAAAb,EAAA,CAEA,IAAAa,EACAG,EAAAjB,aAAA,GAAAC,EAAAV,KAAAyB,MAAA,IAAAd,EAAA,KAAAf,KAAAyB,YAAA,GAEAK,EAAAjB,aAAA,GAAAC,EAAA,EAAA,GAAAC,EAAAf,KAAAyB,YAGAM,WAAA,WACAD,EAAAlB,QAAAoB,KAAAF,IACA,OAIA,WAAAvC,WAAAQ,UH5EA3E,QAAAC,IAAA,UAmBAP,UAAAC,YACAD,UAAAC,YAAAC,mBAAA,SAAAG,GACAC,QAAAC,IAAA,WAAAF,KAGAC,QAAAC,IAAA,2BAOA,IAAA4G,IACAC,QAAAC,QAAA,WACA,GAAAC,IAAAzF,IAAAA,IAAAE,IAAAA,IACAoF,KAAA,GAAAI,QAAAC,KAAAC,IAAAtC,SAAAC,eAAA,kBACAsC,KAAA,GACAC,OAAAL,GAEA,IAKAM,IALA,GAAAL,QAAAC,KAAAK,QACAxH,SAAAiH,EACAH,IAAAA,IACAW,MAAA,qBAIAC,YAAA,iBACAC,YAAA,WACAC,UAEA/B,MAAA,cAKA6B,YAAA,iBACAC,YAAA,mBACAC,UAEAnF,WAAA,OAGAoD,MAAA,cAKA6B,YAAA,YACAC,YAAA,gBACAC,UAEAnF,WAAA,OAGAoD,MAAA,YAGAgC,UAAA,SAKAH,YAAA,MACAC,YAAA,gBACAC,UAEAnF,WAAA,QAGAoD,MAAA,cAKA6B,YAAA,MACAC,YAAA,SACAC,UAEAnF,WAAA,UAKAiF,YAAA,MACAC,YAAA,cACAC,UAEAnF,WAAA,UAKAiF,YAAA,OACAC,YAAA,mBACAC,UAEA/B,MAAA,cAKA6B,YAAA,OACAC,YAAA,cACAC,UAEAnF,WAAA,UAKAiF,YAAA,eACAC,YAAA,gBACAC,UAEA/B,MAAA,cAKA6B,YAAA,eACAC,YAAA,kBACAC,UAEAnF,WAAA,OAGAoD,MAAA,cAKA6B,YAAA,gBACAC,YAAA,gBACAC,UAEA/B,MAAA,cAKA6B,YAAA,gBACAC,YAAA,kBACAC,UAEA/B,MAAA,cAKA6B,YAAA,aACAC,YAAA,gBACAC,UAEAnF,WAAA,OAGAoD,MAAA,YAGAiC,OAAA,QAKAJ,YAAA,aACAC,YAAA,kBACAC,UAEA/B,MAAA,cAKA6B,YAAA,UACAC,YAAA,MACAC,UAEA/B,MAAA,YAGApD,WAAA,UAKAiF,YAAA,QACAC,YAAA,gBACAC,UAEA/B,MAAA,cAKA6B,YAAA,QACAC,YAAA,cACAC,UAEAG,WAAA,UAMAjB,KAAAkB,YAAAT,OAAAA,KI/NA/G,EAAAsE,UAAAmD,MAAA,WAGA,QAAAC,KACA1H,EAAA,oBAAA2H,UACA3H,EAAA,qBAAA4H,SACAlB,OAAAC,KAAA/D,MAAAiF,QAAAvB,IAAA,UACApH,cAGA,GAAA4I,GAAA,IACA9H,GAAA,iBAAA+H,GAAA,QAAA,WAMA,MALAtI,SAAAC,IAAAoI,GACAA,GACAE,aAAAF,GAEAA,EAAA1B,WAAAsB,EAAA,OAOA1H,EAAA,mBAAAiI,MAAA,WACAjI,EAAA,oBAAAC,OACAD,EAAA,wBAAAI,SAGAJ,EAAA,iBAAAiI,MAAA,WACAjI,EAAA,wBAAAC,OACAD,EAAA,oBAAAC,OACAD,EAAA,oBAAAI,SAMAJ,EAAA,QAAAkI,YAEAC,MAAA,EAEAC,WAAA,EAEAC,MACAC,OAAA,UACAC,WAAA,EACAC,MAAA,GACAC,MAAA,EACAC,UAAA,EACAC,SAAA,GAEA5H,KAAA,SAKAwF,OAAAqC,YAAA,WACA,GAAAC,GAAA,eACA7I,GAAA6I,GAAAxI,OAAAmB,OAAA,GACAxB,EAAA,iBAAAC,QAGA,KAGAsG,OAAAqC,YAAA,WACA,GAAAC,GAAA,aACA7I,GAAA6I,GAAAxI,OAAAmB,OAAA,GACAkG,KAGA,OHrEA1H,EAAA8I,MACAC,IAAA,wBACAhI,KAAA,MACAiI,SAAA,OACAC,QAAA,SAAA/I,GAGAT,QAAAC,IAAAQ,EAAA,WAIAgJ,MAAA,SAAAhJ,GACAT,QAAAC,IAAAQ,EAAA,aA4CAF,EAAAmJ,QAAA,cAAA,SAAAjJ,GAIAW,oBAAAX,EAAAA,MACAM,iBAAAN,EAAAA,MACAkJ,cAAAlJ,EAAAA,MACAF,EAAA,gBAAAK,KAAAH,EAAAA,KAAA,GAAAa,QChEAf,EAAA,iBAAAC,OACAD,EAAAsE,UAAAmD,MAAA,WACAzH,EAAA,iBAAA6H,QAAA,UAIA,KAAA,GAFAlG,SACA,YAAA,WACAb,EAAA,EAAAA,EAAAa,MAAAH,OAAAV,IACAc,gBAAAL,QAAAT,GAAA,GAAAiB,QAAAJ,MAAAb,GAAA,GAAAA,EAEAc,iBAAAC,cAAA,EACAR,gBACAC,eAAAO,cAAA,CAQA,IAAA2B,WAAA,GAWA6F,cAAA,EACArG,iBAAA,GACAH,aAAA,EACAO,aACAM,eACA,IAAA,2BAAA6C,QAEA,CACA+C,aAAAtH,MAAAuH,QAAA,cACA,IAAAzG,aAAA,GAAA0G,wBACA1G,aAAA2G,YAAA,EACA3G,YAAA4G,gBAAA,EACA5G,YAAA6G,QAAA,WACA9G,aAAA,EACA1B,SAAA,kBACAqC,UAAAC,IAAA,IAEAX,YAAA8G,QAAA,SAAAhH,GACA,aAAAA,EAAAsG,QACA1F,UAAAC,IAAA,GACAtC,SAAA,kBACAiC,cAAA,GAEA,iBAAAR,EAAAsG,QACA1F,UAAAC,IAAA,GACAtC,SAAA,sBACAiC,cAAA,GAEA,eAAAR,EAAAsG,QAEA/H,SADAyB,EAAAe,UAAAD,gBAAA,IACA,eAEA,eAEAN,cAAA,IAGAN,YAAA+G,MAAA,WAEA,GADAhH,aAAA,GACAO,aAAA,CAIA,GADAI,UAAAC,IAAA,IACAT,iBAEA,WADA7B,UAAA,aAIA,IADAA,SAAA,IACAoF,OAAAuD,aAAA,CACAvD,OAAAuD,eAAAC,iBACA,IAAAC,GAAA1F,SAAA2F,aACAD,GAAAE,WAAA5F,SAAAC,eAAA,eACAgC,OAAAuD,eAAAK,SAAAH,MAGAlH,YAAAsH,SAAA,SAAAxH,GAeA,QAAAyH,KACA,GAAAvC,GAAAlF,EAAA0H,QAAA9I,MAEA,OADA/B,SAAAC,IAAAkD,EAAA0H,QAAA9I,QACAsG,EAhBA,IAAA,GADAyC,GAAA,GACAzJ,EAAA8B,EAAA4H,YAAA1J,EAAA8B,EAAA0H,QAAA9I,SAAAV,EACA8B,EAAA0H,QAAAxJ,GAAA2J,QACAzH,kBAAAJ,EAAA0H,QAAAxJ,GAAA,GAAA4J,WAEAH,GAAA3H,EAAA0H,QAAAxJ,GAAA,GAAA4J,UAGA1H,kBAAAT,WAAAS,kBACAK,WAAAC,UAAApB,UAAAc,kBACAO,aAAAD,UAAApB,UAAAqI,IACAvH,kBAAAuH,IACAnJ,YAAA,gBAQA3B,QAAAC,IAAA2K,UAtEAM,UA0EA,IAAAtI,UAAA,QACAC,SAAA,MAIAE,WAAA","file":"app.min.js","sourcesContent":["console.log('cocuou');\n\nfunction getLocation() {\n    if (navigator.geolocation) {\n\n        navigator.geolocation.getCurrentPosition(showPosition);\n    } else {\n        alert('Votre navigateur ne supporte pas la geolocalisation')\n    }\n}\n\nfunction showPosition(position) {\n    /*   x.innerHTML = \"Latitude: \" + position.coords.latitude +\n     \"<br>Longitude: \" + position.coords.longitude;*/\n    console.log(position.coords.longitude+ 'longitude');\n    console.log(position.coords.latitude+ 'latitude');\n}\n\n/* ask geoloc*/\nif (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function (position) {\n        console.log(\"position\", position)\n    });\n}else{\n    console.log('geolocalisation disabled');\n}\n\n\n/* MAP GOOGLE */\n\n\nvar map;\nwindow.initMap = function() {\n    var myLatLng = {lat: lat, lng: lng};\n    map = new google.maps.Map(document.getElementById('map-container'), {\n        zoom: 10,\n        center: myLatLng\n    });\n    var marker = new google.maps.Marker({\n        position: myLatLng,\n        map: map,\n        title: 'Vous etes ici!'\n    });\n    var styles = [\n        {\n            \"featureType\": \"administrative\",\n            \"elementType\": \"geometry\",\n            \"stylers\": [\n                {\n                    \"color\": \"#a7a7a7\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"administrative\",\n            \"elementType\": \"labels.text.fill\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"on\"\n                },\n                {\n                    \"color\": \"#737373\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"landscape\",\n            \"elementType\": \"geometry.fill\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"on\"\n                },\n                {\n                    \"color\": \"#efefef\"\n                },\n                {\n                    \"lightness\": \"20\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"poi\",\n            \"elementType\": \"geometry.fill\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"off\"\n                },\n                {\n                    \"color\": \"#dadada\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"poi\",\n            \"elementType\": \"labels\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"off\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"poi\",\n            \"elementType\": \"labels.icon\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"off\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"road\",\n            \"elementType\": \"labels.text.fill\",\n            \"stylers\": [\n                {\n                    \"color\": \"#696969\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"road\",\n            \"elementType\": \"labels.icon\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"off\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"road.highway\",\n            \"elementType\": \"geometry.fill\",\n            \"stylers\": [\n                {\n                    \"color\": \"#ffffff\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"road.highway\",\n            \"elementType\": \"geometry.stroke\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"on\"\n                },\n                {\n                    \"color\": \"#b3b3b3\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"road.arterial\",\n            \"elementType\": \"geometry.fill\",\n            \"stylers\": [\n                {\n                    \"color\": \"#ffffff\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"road.arterial\",\n            \"elementType\": \"geometry.stroke\",\n            \"stylers\": [\n                {\n                    \"color\": \"#d6d6d6\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"road.local\",\n            \"elementType\": \"geometry.fill\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"on\"\n                },\n                {\n                    \"color\": \"#ffffff\"\n                },\n                {\n                    \"weight\": 1.8\n                }\n            ]\n        },\n        {\n            \"featureType\": \"road.local\",\n            \"elementType\": \"geometry.stroke\",\n            \"stylers\": [\n                {\n                    \"color\": \"#d7d7d7\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"transit\",\n            \"elementType\": \"all\",\n            \"stylers\": [\n                {\n                    \"color\": \"#808080\"\n                },\n                {\n                    \"visibility\": \"off\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"water\",\n            \"elementType\": \"geometry.fill\",\n            \"stylers\": [\n                {\n                    \"color\": \"#bfcdd5\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"water\",\n            \"elementType\": \"labels.text\",\n            \"stylers\": [\n                {\n                    \"saturation\": \"-47\"\n                }\n            ]\n        }\n    ]\n\n    map.setOptions({styles: styles});\n\n}\n","//Traitement Json\n\n$.ajax({\n    url : 'http://localhost:8080',\n    type : 'GET',\n    dataType : 'JSON',\n    success : function(data){\n\n\n        console.log(data + 'succes');\n\n    },\n\n    error : function(data){\n        console.log(data + 'erreur');\n    },\n\n\n});\n\nfunction displayWeather(response) {\n\n    $(\".temps\").hide();\n    $(\"#\"+response.data.weather+\"\").show();\n\n\n    $('#temperature').text(response.data.temperature+'°');\n    $('#ville').text(response.data.city);\n\n\n}\n\nfunction displayTransport(response) {\n\n    $('#distance_result').text(response.data.distance);\n    $('#start_address_result').text(response.data.start_address_name);\n    $('#end_address_result').text(response.data.end_address_name);\n    $('#duration_result').text(response.data.duration);\n}\nfunction displayFromResponse(response) {\n\n    for (var i in response) {\n        if (response[i].type == \"weather\") {\n            displayWeather(response[i]);\n\n        } else if (response[i].type == \"transport.google_direction.driving\") {\n            displayTransport(response[i]);\n            lat = response[i].data.start_location.lat;\n            lng = response[i].data.start_location.lng;\n\n        }\n    }\n}\n\n\n\n\n\n$.getJSON( \"result.json\", function( data ) {\n    // console.log(data.data[0].type);\n    // console.log(data.data[0].data.temperature);\n    //console.log(data.data[0].data.temps);\n    displayFromResponse(data.data);\n    displayTransport(data.data);\n    recupLocation(data.data);\n    $('.result_type').text(data.data[0].type);\n\n\n});\n","// // $('#message-accueil').trigger('click');\n$('#div_language').hide();\n$( document ).ready(function() {\n    $('#start_button').trigger('click');\n});\nvar langs =\n    [['Français', ['fr-FR']]];\nfor (var i = 0; i < langs.length; i++) {\n    select_language.options[i] = new Option(langs[i][0], i);\n}\nselect_language.selectedIndex = 0;\nupdateCountry();\nselect_dialect.selectedIndex = 6;\nfunction showInfo() {\n    return true;\n}\n\nfunction showButtons() {\n    return true;\n}\nvar start_img = '';\nfunction updateCountry() {\n    for (var i = select_dialect.options.length - 1; i >= 0; i--) {\n        select_dialect.remove(i);\n    }\n    var list = langs[select_language.selectedIndex];\n    for (var i = 1; i < list.length; i++) {\n        select_dialect.options.add(new Option(list[i][1], list[i][0]));\n    }\n    select_dialect.style.visibility = list[1].length == 1 ? 'hidden' : 'visible';\n}\nvar create_email = false;\nvar final_transcript = '';\nvar recognizing = false;\nvar ignore_onend;\nvar start_timestamp;\nif (!('webkitSpeechRecognition' in window)) {\n    upgrade();\n} else {\n    start_button.style.display = 'inline-block';\n    var recognition = new webkitSpeechRecognition();\n    recognition.continuous = true;\n    recognition.interimResults = true;\n    recognition.onstart = function () {\n        recognizing = true;\n        showInfo('info_speak_now');\n        start_img.src = '';\n    };\n    recognition.onerror = function (event) {\n        if (event.error == 'no-speech') {\n            start_img.src = '';\n            showInfo('info_no_speech');\n            ignore_onend = true;\n        }\n        if (event.error == 'audio-capture') {\n            start_img.src = '';\n            showInfo('info_no_microphone');\n            ignore_onend = true;\n        }\n        if (event.error == 'not-allowed') {\n            if (event.timeStamp - start_timestamp < 100) {\n                showInfo('info_blocked');\n            } else {\n                showInfo('info_denied');\n            }\n            ignore_onend = true;\n        }\n    };\n    recognition.onend = function () {\n        recognizing = false;\n        if (ignore_onend) {\n            return;\n        }\n        start_img.src = '';\n        if (!final_transcript) {\n            showInfo('info_start');\n            return;\n        }\n        showInfo('');\n        if (window.getSelection) {\n            window.getSelection().removeAllRanges();\n            var range = document.createRange();\n            range.selectNode(document.getElementById('final_span'));\n            window.getSelection().addRange(range);\n        }\n    };\n    recognition.onresult = function (event) {\n        var interim_transcript = '';\n        for (var i = event.resultIndex; i < event.results.length; ++i) {\n            if (event.results[i].isFinal) {\n                final_transcript += event.results[i][0].transcript;\n            } else {\n                interim_transcript += event.results[i][0].transcript;\n            }\n        }\n        final_transcript = capitalize(final_transcript);\n        final_span.innerHTML = linebreak(final_transcript);\n        interim_span.innerHTML = linebreak(interim_transcript);\n        if (final_transcript || interim_transcript) {\n            showButtons('inline-block');\n        }\n        function getTimer() {\n            var timer = event.results.length;\n            console.log(event.results.length);\n            return timer;\n\n        }\n        console.log(getTimer());\n\n    };\n}\nvar two_line = /\\n\\n/g;\nvar one_line = /\\n/g;\nfunction linebreak(s) {\n    return s.replace(two_line, '<p></p>').replace(one_line, '<br>');\n}\nvar first_char = /\\S/;\nfunction capitalize(s) {\n    return s.replace(first_char, function (m) {\n        return m.toUpperCase();\n    });\n}\nfunction startButton(event) {\n    if (recognizing) {\n        recognition.stop();\n        return;\n    }\n    final_transcript = '';\n    recognition.lang = select_dialect.value;\n    recognition.start();\n    ignore_onend = false;\n    final_span.innerHTML = '';\n    interim_span.innerHTML = '';\n    start_img.src = 'mic-slash.gif';\n    showInfo('info_allow');\n    showButtons('none');\n    start_timestamp = event.timeStamp;\n}","var livePatern = {\n    canvas: null,\n    context: null,\n    cols: 0,\n    rows: 0,\n    colors: [252, 251, 249, 248, 241, 240],\n    triangleColors: [],\n    destColors: [],\n\n    init: function(){\n        this.canvas = document.getElementById('canvas');\n        this.context = this.canvas.getContext('2d');\n        this.cols = Math.floor(document.body.clientWidth / 24);\n        this.rows = Math.floor(document.body.clientHeight / 24) + 1;\n\n        this.canvas.width = document.body.clientWidth;\n        this.canvas.height = document.body.clientHeight;\n\n        this.drawBackground();\n        this.animate();\n    },\n\n    drawTriangle: function(x, y, color, inverted){\n        inverted = inverted == undefined ? false : inverted;\n\n        this.context.beginPath();\n        this.context.moveTo(x, y);\n        this.context.lineTo(inverted ? x - 22 : x + 22, y + 11);\n        this.context.lineTo(x, y + 22);\n        this.context.fillStyle = \"rgb(\"+color+\",\"+color+\",\"+color+\")\";\n        this.context.fill();\n        this.context.closePath();\n    },\n\n    getColor: function(){\n        return this.colors[(Math.floor(Math.random() * 6))];\n    },\n\n    drawBackground: function(){\n        var eq = null;\n        var x = this.cols;\n        var destY = 0;\n        var color, y;\n\n        while(x--){\n            eq = x % 2;\n            y = this.rows;\n\n            while(y--){\n                destY = Math.round((y-0.5) * 24);\n\n                this.drawTriangle(x * 24 + 2, eq == 1 ? destY : y * 24, this.getColor());\n                this.drawTriangle(x * 24, eq == 1 ? destY  : y * 24, this.getColor(), true);\n            }\n        }\n    },\n\n    animate: function(){\n        var me = this;\n\n        var x = Math.floor(Math.random() * this.cols);\n        var y = Math.floor(Math.random() * this.rows);\n        var eq = x % 2;\n\n        if (eq == 1) {\n            me.drawTriangle(x * 24, Math.round((y-0.5) * 24) , this.getColor(), true);\n        } else {\n            me.drawTriangle(x * 24 + 2, y * 24, this.getColor());\n        }\n\n        setTimeout(function(){\n            me.animate.call(me);\n        }, 10);\n    },\n};\n\n!function(){livePatern.init();}()","$( document ).ready(function() {\n\n    //send input\n    function resultPage() {\n        $(\".input-container\").fadeOut();\n        $(\".result-container\").fadeIn();\n        google.maps.event.trigger(map, 'resize');\n        getLocation();\n\n    }\n    var timer = null;\n    $(\"#search-input\").on(\"keyup\", function() {\n        console.log(timer);\n        if (timer) {\n            clearTimeout(timer); //cancel the previous timer.\n        }\n        timer = setTimeout(resultPage, 3000);\n        return timer;\n    });\n    \n\n\n\n    $(\"#menu_connexion\").click(function() {\n        $(\".input-container\").hide();\n        $(\".connexion-container\").show();\n    });\n\n    $(\"#menu_accueil\").click(function() {\n        $(\".connexion-container\").hide();\n        $(\".meteo-container\").hide();\n        $(\".input-container\").show();\n    });\n\n\n    //title Animation\n\n    $('.tlt').textillate( {\n\n        loop: false,\n\n        autoStart: true,\n\n        in: {\n            effect: \"flipInX\",\n            delayScale: 3,\n            delay: 50,\n            sync: false,\n            sequence: true,\n            reverse: false\n        },\n        type: 'char'\n    });\n\n\n    //Swap voice inpu\n    window.setInterval(function(){\n        var voiceSpan = '#interim_span';\n        if ($(voiceSpan).text().length > 0){\n            $('#search-input').hide();\n        }\n\n    }, 1000);\n\n    //Swap to result page\n    window.setInterval(function(){\n        var voiceSpan = '#final_span';\n        if ($(voiceSpan).text().length > 0){\n            resultPage();\n        }\n\n    }, 100);\n\n\n});"],"sourceRoot":"/source/"}